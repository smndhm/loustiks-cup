var D=Object.defineProperty;var b=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var C=(c,s,n)=>s in c?D(c,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):c[s]=n,$=(c,s)=>{for(var n in s||(s={}))S.call(s,n)&&C(c,n,s[n]);if(b)for(var n of b(s))E.call(s,n)&&C(c,n,s[n]);return c};import{_ as x,p as g,r as A,o as r,c as u,a as t,F as d,f as y,t as _,b as q,d as I,e as L,u as f,g as P,h as B,i as M,j as V,k as w,l as j,w as N,m as F}from"./index.a316ee78.js";import{M as v}from"./MatchDetails.af920da9.js";import{a as O,g as R}from"./sheets.service.4af246fa.js";const J=c=>(P("data-v-243985dc"),c=c(),B(),c),Q={class:"table-container"},z={class:"table is-striped"},G=J(()=>t("thead",null,[t("tr",null,[t("th",null,[t("abbr",{title:"Position"},"P")]),t("th",null,"Equipe"),t("th",null,[t("abbr",{title:"Matchs jou\xE9s"},"MJ")]),t("th",null,[t("abbr",{title:"Victoires"},"V")]),t("th",null,[t("abbr",{title:"Matchs nuls"},"N")]),t("th",null,[t("abbr",{title:"D\xE9faites"},"D")]),t("th",null,[t("abbr",{title:"Buts marqu\xE9s"},"BM")]),t("th",null,[t("abbr",{title:"Buts contre"},"BC")]),t("th",null,[t("abbr",{title:"Diff\xE9rence de buts"},"DB")]),t("th",null,[t("abbr",{title:"Points"},"Pts")])])],-1)),H={class:"nowrap"},K={name:"PouleClassement",props:{poule:Array,matchs:Array,categorie:String},setup(c){const s=c,n=s.matchs.filter(e=>e.phase.toLowerCase().replace(/ *\([^)]*\) */g,"")==="poules"&&s.categorie===g(e.categorie)&&(s.poule.includes(e.domicile.equipe)||s.poule.includes(e.exterieur.equipe))),m={played:0,won:0,lost:0,tied:0,scored:0,conceded:0,difference:0,points:0},o={},i=(e,l)=>{o[e.equipe]||(o[e.equipe]=$({},m)),e.score!==null&&l.score!==null&&(o[e.equipe].played+=1,o[e.equipe].won+=e.score>l.score?1:0,o[e.equipe].lost+=e.score<l.score?1:0,o[e.equipe].tied+=e.score===l.score?1:0,o[e.equipe].scored+=e.score,o[e.equipe].conceded+=l.score,o[e.equipe].difference=o[e.equipe].scored-o[e.equipe].conceded,o[e.equipe].points=o[e.equipe].won*4+o[e.equipe].tied*2+o[e.equipe].lost)};n.forEach(e=>{i(e.domicile,e.exterieur),i(e.exterieur,e.domicile)});const p=[];return Object.keys(o).forEach(e=>{o[e].team=e,p.push(o[e])}),p.sort((e,l)=>e.points===l.points?e.difference===l.difference?e.scored===l.scored?e.team>l.team?1:-1:l.scored-e.scored:l.difference-e.difference:l.points-e.points),(e,l)=>{const h=A("router-link");return r(),u("div",Q,[t("table",z,[G,t("tbody",null,[(r(),u(d,null,y(p,(a,k)=>t("tr",{key:k},[t("th",null,_(k+1),1),t("td",H,[q(h,{to:`/categories/${f(g)(s.categorie)}/equipes/${f(g)(a.team)}`},{default:I(()=>[L(_(a.team),1)]),_:2},1032,["to"])]),t("td",null,_(a.played),1),t("td",null,_(a.won),1),t("td",null,_(a.tied),1),t("td",null,_(a.lost),1),t("td",null,_(a.scored),1),t("td",null,_(a.conceded),1),t("td",null,_(a.difference),1),t("td",null,_(a.points),1)])),64))])])])}}};var U=x(K,[["__scopeId","data-v-243985dc"]]);const W=t("h4",null,"Quarts de finale",-1),X={class:"columns is-multiline"},Y=t("h4",null,"Demi finales",-1),Z={class:"columns is-multiline"},T=t("h4",null,"Finale",-1),ee={class:"columns is-multiline"},te=t("h4",null,"Autres matchs de classement",-1),se={class:"columns is-multiline"},oe={name:"CompetitionMatchs",props:{competition:String,categorie:String,matchs:Array},setup(c){const s=c,n=M({}),m=o=>{Object.keys(n).forEach(i=>delete n[i]),n.quarts=s.matchs.filter(i=>s.competition===i.competition&&o===g(i.categorie)&&i.phase.toLowerCase().replace(/ *\([^)]*\) */g,"")==="quart de finale"),n.half=s.matchs.filter(i=>s.competition===i.competition&&o===g(i.categorie)&&i.phase.toLowerCase().replace(/ *\([^)]*\) */g,"")==="demi finale"),n.final=s.matchs.filter(i=>s.competition===i.competition&&o===g(i.categorie)&&i.phase.toLowerCase().replace(/ *\([^)]*\) */g,"")==="finale"),n.classement=s.matchs.filter(i=>s.competition===i.competition&&o===g(i.categorie)&&i.phase.toLowerCase().replace(/ *\([^)]*\) */g,"")==="classement")};return m(s.categorie),V(()=>s.categorie,o=>{m(o)}),(o,i)=>(r(),u(d,null,[t("h3",null,_(s.competition),1),n.quarts.length?(r(),u(d,{key:0},[W,t("div",X,[(r(!0),u(d,null,y(n.quarts,(p,e)=>(r(),u("div",{class:"column is-half",key:e},[q(v,{"with-hour":"","no-category":"","no-phase":"","no-competition":"",match:p},null,8,["match"])]))),128))])],64)):w("",!0),n.half.length?(r(),u(d,{key:1},[Y,t("div",Z,[(r(!0),u(d,null,y(n.half,(p,e)=>(r(),u("div",{class:"column is-half",key:e},[q(v,{"with-hour":"","no-category":"","no-phase":"","no-competition":"",match:p},null,8,["match"])]))),128))])],64)):w("",!0),n.half.length?(r(),u(d,{key:2},[T,t("div",ee,[(r(!0),u(d,null,y(n.final,(p,e)=>(r(),u("div",{class:"column is-half",key:e},[q(v,{"with-hour":"","no-category":"","no-phase":"","no-competition":"",match:p},null,8,["match"])]))),128))])],64)):w("",!0),n.half.length?(r(),u(d,{key:3},[te,t("div",se,[(r(!0),u(d,null,y(n.classement,(p,e)=>(r(),u("div",{class:"column is-half",key:e},[q(v,{"with-hour":"","no-category":"","no-phase":"","no-competition":"",match:p},null,8,["match"])]))),128))])],64)):w("",!0)],64))}};const ne=c=>(P("data-v-76bfb760"),c=c(),B(),c),ie={class:"is-uppercase"},le=ne(()=>t("h3",null,"Poules",-1)),ce={name:"CategorieView",async setup(c){let s,n;const m=j(),o=M({}),i=([s,n]=N(()=>O()),s=await s,n(),s),p=async e=>{Object.keys(o).forEach(h=>delete o[h]);const l=await R(e);for(let h=0;h<l[0].length;h++){o[l[0][h]]=[];for(let a=1;a<l.length;a++)o[l[0][h]].push(l[a][h])}};return p(m.params.category),V(()=>m.params.category,async e=>{e&&p(e)}),(e,l)=>(r(),u(d,null,[t("h2",ie,_(f(m).params.category),1),le,(r(!0),u(d,null,y(o,(h,a)=>(r(),u(d,{key:a},[t("h4",null,_(a),1),q(U,{poule:h,categorie:f(m).params.category,matchs:f(i)},null,8,["poule","categorie","matchs"])],64))),128)),(r(!0),u(d,null,y(e.$competitions[f(m).params.category],(h,a)=>(r(),F(oe,{competition:h,categorie:f(m).params.category,matchs:f(i),key:a},null,8,["competition","categorie","matchs"]))),128))],64))}};var de=x(ce,[["__scopeId","data-v-76bfb760"]]);export{de as default};
