var M=Object.defineProperty;var v=Object.getOwnPropertySymbols;var V=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable;var b=(i,s,n)=>s in i?M(i,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[s]=n,C=(i,s)=>{for(var n in s||(s={}))V.call(s,n)&&b(i,n,s[n]);if(v)for(var n of v(s))D.call(s,n)&&b(i,n,s[n]);return i};import{_ as $,p as g,r as S,o as p,c as d,a as t,F as f,f as y,t as a,b as q,d as E,e as I,u as m,g as x,h as P,i as k,j as B,k as j,l as A,w as N,m as F}from"./index.3c391dbc.js";import{M as O}from"./MatchDetails.4b1aa738.js";import{a as L,g as R}from"./sheets.service.f9f04341.js";const J=i=>(x("data-v-2949f8ec"),i=i(),P(),i),Q={class:"table-container"},z={class:"table is-striped"},G=J(()=>t("thead",null,[t("tr",null,[t("th",null,[t("abbr",{title:"Position"},"P")]),t("th",null,"Equipe"),t("th",null,[t("abbr",{title:"Matchs jou\xE9s"},"MJ")]),t("th",null,[t("abbr",{title:"Victoires"},"V")]),t("th",null,[t("abbr",{title:"Matchs nuls"},"N")]),t("th",null,[t("abbr",{title:"D\xE9faites"},"D")]),t("th",null,[t("abbr",{title:"Buts marqu\xE9s"},"BM")]),t("th",null,[t("abbr",{title:"Buts contre"},"BC")]),t("th",null,[t("abbr",{title:"Diff\xE9rence de buts"},"DB")]),t("th",null,[t("abbr",{title:"Points"},"Pts")])])],-1)),H={class:"nowrap"},K={name:"PouleClassement",props:{poule:Array,matchs:Array,categorie:String},setup(i){const s=i,n=s.matchs.filter(e=>e.phase.toLowerCase().replace(/ *\([^)]*\) */g,"")==="poules"&&s.categorie===g(e.categorie)&&(s.poule.includes(e.domicile.equipe)||s.poule.includes(e.exterieur.equipe))),u={played:0,won:0,lost:0,tied:0,scored:0,conceded:0,difference:0,points:0},o={},h=(e,r)=>{o[e.equipe]||(o[e.equipe]=C({},u)),e.score!==null&&r.score!==null&&(o[e.equipe].played+=1,o[e.equipe].won+=e.score>r.score?1:0,o[e.equipe].lost+=e.score<r.score?1:0,o[e.equipe].tied+=e.score===r.score?1:0,o[e.equipe].scored+=e.score,o[e.equipe].conceded+=r.score,o[e.equipe].difference=o[e.equipe].scored-o[e.equipe].conceded,o[e.equipe].points=o[e.equipe].won*4+o[e.equipe].tied*2+o[e.equipe].lost)};n.forEach(e=>{h(e.domicile,e.exterieur),h(e.exterieur,e.domicile)});const _=[];return Object.keys(o).forEach(e=>{o[e].team=e,_.push(o[e])}),_.sort((e,r)=>e.points===r.points?e.difference===r.difference?e.scored===r.scored?e.team>r.team?1:-1:r.scored-e.scored:r.difference-e.difference:r.points-e.points),(e,r)=>{const l=S("router-link");return p(),d("div",Q,[t("table",z,[G,t("tbody",null,[(p(),d(f,null,y(_,(c,w)=>t("tr",{key:w},[t("th",null,a(w+1),1),t("td",H,[q(l,{to:`/categories/${m(g)(s.categorie)}/equipes/${m(g)(c.team)}`},{default:E(()=>[I(a(c.team),1)]),_:2},1032,["to"])]),t("td",null,a(c.played),1),t("td",null,a(c.won),1),t("td",null,a(c.tied),1),t("td",null,a(c.lost),1),t("td",null,a(c.scored),1),t("td",null,a(c.conceded),1),t("td",null,a(c.difference),1),t("td",null,a(c.points),1)])),64))])])])}}};var U=$(K,[["__scopeId","data-v-2949f8ec"]]);const W={class:"title"},X={class:"subtitle"},Y={class:"columns is-multiline"},Z={name:"CompetitionMatchs",props:{competition:String,categorie:String,matchs:Array},setup(i){const s=i,n={quarter:"Quarts de finale",semi:"Demi-finales",final:"Finale",classement:"Classement"},u=k({}),o=h=>{Object.keys(n).forEach(_=>{delete u[_],u[_]=s.matchs.filter(e=>s.competition===e.competition&&h===g(e.categorie)&&e.phase.replace(/ *\([^)]*\) */g,"")===n[_])})};return o(s.categorie),B(()=>s.categorie,h=>{o(h)}),(h,_)=>(p(),d(f,null,[t("h3",W,a(s.competition),1),(p(),d(f,null,y(n,(e,r)=>(p(),d(f,{key:r},[u[r].length?(p(),d(f,{key:0},[t("h4",X,a(e),1),t("div",Y,[(p(!0),d(f,null,y(u[r],(l,c)=>(p(),d("div",{class:"column is-half",key:c},[q(O,{"with-hour":"","no-category":"","no-phase":"","no-competition":"",match:l},null,8,["match"])]))),128))])],64)):j("",!0)],64))),64))],64))}};const T=i=>(x("data-v-10d3e118"),i=i(),P(),i),ee={class:"is-uppercase"},te=T(()=>t("h3",null,"Poules",-1)),se=["id"],oe={name:"CategorieView",async setup(i){let s,n;const u=A(),o=k({}),h=([s,n]=N(()=>L()),s=await s,n(),s),_=async e=>{Object.keys(o).forEach(l=>delete o[l]);const r=await R(e);for(let l=0;l<r[0].length;l++){o[r[0][l]]=[];for(let c=1;c<r.length;c++)o[r[0][l]].push(r[c][l])}};return _(u.params.category),B(()=>u.params.category,async e=>{e&&_(e)}),(e,r)=>(p(),d(f,null,[t("h2",ee,a(m(u).params.category),1),te,(p(!0),d(f,null,y(o,(l,c)=>(p(),d(f,{key:c},[t("h4",{id:m(g)(c)},a(c),9,se),q(U,{poule:l,categorie:m(u).params.category,matchs:m(h)},null,8,["poule","categorie","matchs"])],64))),128)),(p(!0),d(f,null,y(e.$competitions[m(u).params.category],(l,c)=>(p(),F(Z,{competition:l,categorie:m(u).params.category,matchs:m(h),key:c},null,8,["competition","categorie","matchs"]))),128))],64))}};var le=$(oe,[["__scopeId","data-v-10d3e118"]]);export{le as default};
