var E=Object.defineProperty;var m=Object.getOwnPropertySymbols;var I=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable;var w=(n,r,l)=>r in n?E(n,r,{enumerable:!0,configurable:!0,writable:!0,value:l}):n[r]=l,C=(n,r)=>{for(var l in r||(r={}))I.call(r,l)&&w(n,l,r[l]);if(m)for(var l of m(r))M.call(r,l)&&w(n,l,r[l]);return n};import{_ as x,p as q,r as k,o as _,c as f,a as t,F as b,f as v,t as a,b as P,d as B,e as V,u as i,g as $,h as D,i as S,j as N,w as j,k as A,l as F,n as O,m as R,q as z}from"./index.66f2143d.js";import{a as J,g as L}from"./sheets.service.40429bca.js";const G=n=>($("data-v-3aecb6da"),n=n(),D(),n),H={class:"table-container"},K={class:"table is-striped"},Q=G(()=>t("thead",null,[t("tr",null,[t("th",null,[t("abbr",{title:"Position"},"P")]),t("th",null,"Equipe"),t("th",null,[t("abbr",{title:"Matchs jou\xE9s"},"MJ")]),t("th",null,[t("abbr",{title:"Victoires"},"V")]),t("th",null,[t("abbr",{title:"Matchs nuls"},"N")]),t("th",null,[t("abbr",{title:"D\xE9faites"},"D")]),t("th",null,[t("abbr",{title:"Buts marqu\xE9s"},"BM")]),t("th",null,[t("abbr",{title:"Buts contre"},"BC")]),t("th",null,[t("abbr",{title:"Diff\xE9rence de buts"},"DB")]),t("th",null,[t("abbr",{title:"Points"},"Pts")])])],-1)),U={class:"nowrap"},W={name:"PouleClassement",props:{poule:Array,matchs:Array,categorie:String},setup(n){const r=n,l=r.matchs.filter(e=>r.categorie===q(e.categorie)&&(r.poule.includes(e.domicile.equipe)||r.poule.includes(e.exterieur.equipe))),d={played:0,won:0,lost:0,tied:0,scored:0,conceded:0,difference:0,points:0},s={},y=(e,o)=>{s[e.equipe]||(s[e.equipe]=C({},d)),e.score!==null&&o.score!==null&&(s[e.equipe].played+=1,s[e.equipe].won+=e.score>o.score?1:0,s[e.equipe].lost+=e.score<o.score?1:0,s[e.equipe].tied+=e.score===o.score?1:0,s[e.equipe].scored+=e.score,s[e.equipe].conceded+=o.score,s[e.equipe].difference=s[e.equipe].scored-s[e.equipe].conceded,s[e.equipe].points=s[e.equipe].won*4+s[e.equipe].tied*2+s[e.equipe].lost)};l.forEach(e=>{y(e.domicile,e.exterieur),y(e.exterieur,e.domicile)});const g=[];return Object.keys(s).forEach(e=>{s[e].team=e,g.push(s[e])}),g.sort((e,o)=>e.points===o.points?e.difference===o.difference?e.scored===o.scored?e.team>o.team?1:-1:o.scored-e.scored:o.difference-e.difference:o.points-e.points),(e,o)=>{const p=k("router-link");return _(),f("div",H,[t("table",K,[Q,t("tbody",null,[(_(),f(b,null,v(g,(c,u)=>t("tr",{key:u},[t("th",null,a(u+1),1),t("td",U,[P(p,{to:`/categories/${i(q)(r.categorie)}/equipes/${i(q)(c.team)}`},{default:B(()=>[V(a(c.team),1)]),_:2},1032,["to"])]),t("td",null,a(c.played),1),t("td",null,a(c.won),1),t("td",null,a(c.tied),1),t("td",null,a(c.lost),1),t("td",null,a(c.scored),1),t("td",null,a(c.conceded),1),t("td",null,a(c.difference),1),t("td",null,a(c.points),1)])),64))])])])}}};var X=x(W,[["__scopeId","data-v-3aecb6da"]]);const Y=n=>($("data-v-f5ba945a"),n=n(),D(),n),Z={class:"is-uppercase"},T=Y(()=>t("h3",null,"Poules",-1)),ee={class:"tabs"},te={name:"CategorieView",async setup(n){let r,l;const d=S(),s=N({}),y=([r,l]=j(()=>J()),r=await r,l(),r),g=async o=>{Object.keys(s).forEach(c=>delete s[c]);const p=await L(o);for(let c=0;c<p[0].length;c++){s[p[0][c]]=[];for(let u=1;u<p.length;u++)s[p[0][c]].push(p[u][c])}};g(d.params.category);const e=A(()=>{var o;return(o=d.params.tab)!=null?o:"poule-a"});return F(()=>d.params.category,async o=>{o&&g(o)}),(o,p)=>{const c=k("router-link");return _(),f(b,null,[t("h2",Z,a(i(d).params.category),1),T,t("div",ee,[t("ul",null,[(_(!0),f(b,null,v(s,(u,h)=>(_(),f("li",{class:O({"is-active":i(q)(h)===i(e)}),key:h},[P(c,{to:`/categories/${i(d).params.category}/poules/${i(q)(h)}`},{default:B(()=>[V(a(h),1)]),_:2},1032,["to"])],2))),128))])]),(_(!0),f(b,null,v(s,(u,h)=>(_(),f("div",{key:h},[i(q)(h)===i(e)?(_(),R(X,{key:0,poule:u,categorie:i(d).params.category,matchs:i(y)},null,8,["poule","categorie","matchs"])):z("",!0)]))),128))],64)}}};var ce=x(te,[["__scopeId","data-v-f5ba945a"]]);export{ce as default};
